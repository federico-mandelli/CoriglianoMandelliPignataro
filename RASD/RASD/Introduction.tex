
% \ac{} Stampa l'acronimo completo solo la prima volta che lo si usa e in parentesi l'acronimo;
% \acf{} Stampa sempre l'acronimo completo e in parentesi l'acronimo;
% \acp{} Come \ac ma aggiunge la s alla fine per il plurale;
% \acl{} Stampa solo l'acronimo completo.

% Introduction

\subsection{Purpose}
Due to the recently increase of effort in the battle against the climate change, electric vehicles are slowly becoming the new technology for private transport that the people use everyday.
To sustain this type of strategy, we need to develop a clever and capillary charging system.\\
\ac{eMall} is an \ac{eMSP} that aims to help the final user dealing with the charging need.
To do so it will inform the user about the nearby charging stations, their cost and any special offer that they have.
Also, it will allow the user to book/cancel/pay a charge and will notify the user when the charging process is terminated.
With the integration of the user's calendar, the system will also suggest the user the best moment in the schedule to charge the vehicle.
To have a fully integrated system, all the \acp{CPO} will have a technological support called \ac{CPMS} to interface the service with the physical charging stations and to manage all the energy sources like batteries and \acp{DSO}.
Such \acp{CPMS} will be in charge of deciding the energy source and, in case of batteries in a charging station it will also manage their charging.
These decisions will affect the energy prices, so it is important that a system like this allows also the \ac{CPO} maintainers to decide it.
\subsubsection{Goals}
%\input{Introduzione}
\begin{enumerate}[label=\textbf{G\arabic*}]
    \item The \ac{eMSP} shall help the user to select the station; \label{goal:eMSP-helps-selecting}
    \item The \ac{eMSP} shall allow the user to book/cancel a charge; \label{goal:eMSP-booking-charge}
    \item The \ac{eMSP} shall allow the user to perform a charge; \label{goal:eMSP-allow-charge}
    \item \acp{CPMS} shall handle the vehicle charging cycles; \label{goal:CPMS-handles-charge}
    \item \acp{CPMS} shall manage the vehicle charging stations; \label{goal:CPMS-manage-station}
\end{enumerate}

% Subsection where we enumerate all the world and shared phenomena
\subsection{Scope}

% world phenomena
\begin{enumerate}[label=\textbf{W\arabic*}]
    \item People charge electric vehicles in different modes (NORMAL, FAST, SUPER-FAST); \label{world:people-charge-vehicles} [\ref{goal:eMSP-helps-selecting}, \ref{goal:eMSP-booking-charge}, \ref{goal:eMSP-allow-charge}, \ref{goal:CPMS-handles-charge}]
    \item People use web calendar; \label{world:people-use-calendars} [\ref{goal:eMSP-helps-selecting}, \ref{goal:eMSP-booking-charge}, \ref{goal:eMSP-allow-charge}]
    \item People pay for the charging service; \label{world:people-pay-service} [\ref{goal:eMSP-allow-charge}]
    \item \acp{DSO} supply energy to \acp{CPO}; \label{world:DSO-supply-energy} [\ref{goal:CPMS-manage-station}]
    \item Some \acp{CPO} own batteries; \label{world:CPO-own-batteries} [\ref{goal:CPMS-handles-charge}, \ref{goal:CPMS-manage-station}]
    \item \acp{CPO} decide whether to use batteries or \ac{DSO} supplied energy; \label{world:CPO-decide-energy} [\ref{goal:CPMS-handles-charge}, \ref{goal:CPMS-manage-station}]
\end{enumerate}
% shared phenomena
\begin{enumerate}[label=\textbf{S\arabic*}]
    % system -> user
    \item The \ac{eMSP} suggests the user to charge the vehicle; \label{shared:eMSP-suggests-charge} [\ref{goal:eMSP-helps-selecting}]
    \item The \ac{eMSP} notifies the user when the charging process is finished; \label{shared:eMSP-notifies-charging-finished} [\ref{goal:eMSP-allow-charge}]
    \item \acp{CPMS} acquire information about energy prizes from \acp{DSO}; \label{shared:CPMS-info-from-DSO} [\ref{goal:CPMS-manage-station}]
          % user -> system
    \item The user books a charge using the \ac{eMSP}; \label{shared:user-books-charge} [\ref{goal:eMSP-booking-charge}]
    \item The user asks the \ac{eMSP} for suggestions about charging station; \label{shared:user-asks-suggestions} [\ref{goal:eMSP-helps-selecting}]
    \item The user pays for the service using the \ac{eMSP}; \label{shared:user-pays-service} [\ref{goal:eMSP-allow-charge}]
    \item \acp{CPO} gather the energy source through the \ac{CPMS}; \label{shared:CPO-energy-through-CPMS} [\ref{goal:CPMS-handles-charge}, \ref{goal:CPMS-manage-station}]
\end{enumerate}

\subsection{Definitions, Acronyms, Abbreviations}
\subsubsection{Definitions}

% Print the glossary 
\printnoidxglossaries


\subsubsection{Acronyms}
\begin{multicols}{2}[]
    \begin{acronym}[RASD]
        \acro{eMSP}{e-Mobility Service Providers}
        \acro{CPO}{Charging Point Operators}
        \acro{CPMS}{Charge Point Management System}
        \acro{DSO}{Distribution System Operators}
        \acro{eMall}{e-Mobility for All}
        \acro{API}{Application Programming Interface}
        \acro{RACS}{Reliable Array of Cloned Services}
        \acro{RAPS}{Reliable Array of Partitioned Services}
        \acro{GDPR}{General Data Protection Regulation}
        \acro{SoC}{State of Charge}
        \acro{GPS}{Global Positioning System}
    \end{acronym}
\end{multicols}

\subsection{Revision history}

\subsection{Reference Documents}
\newpage
\subsection{Document Structure}
The document is divided in six main sections:
\begin{itemize}
    \item \textbf{Introduction}: The introduction section has the main goal of illustrating the problem to the reader and enumerating all the goals that
          the system needs to achieve to solve the problem. Also, a part from the goals, there are more formal descriptions about the world (world phenomena) and the
          interactions between the system and the world (shared phenomena). At the end of the introduction there is a reference subsection for definitions, revision history and reference documents;
    \item \textbf{Overall Description}: It is an high level description of the dynamic interaction of stakeholders and the system. For this reason in this section there are
          the main scenarios descriptions and a UML diagram which specifies all the relations from an upper model perspective. Also, there is a subsection that illustrates
          the fundamental requirements of the system and another which specifies the type and description of any user. At the end of this section there is a collection of assumptions that are made over the complete project;
    \item \textbf{Specific Requirements}: This section focuses on all the details introduced in the \textbf{Overall Description} section, so it formalizes all the requirements
          about the system and all the scenarios. For this reason, use case diagrams and sequence diagrams are illustrated. There are also more constraints on the performance, design aspects and attributes of the software;
    \item \textbf{Formal Analysis with Alloy}: It represents a formal description in Alloy language of the problem, with some formal constraints that need to be satisfied (asserts).
          This formalization is useful to validate the model itself and verify that all the assertions are granted.
    \item \textbf{Effort Spent}: Resumes the total hours spent on the document formalization;
    \item \textbf{References}: Resumes all the references documents that we used during the description.
\end{itemize}

% \def\goalsToPhenomena{
% {1,2}, 
% {3,4}}

% \foreach \g in \goalsToPhenomena{
%     \pgfmathparse{{\g}[0]}\pgfmathresult : \pgfmathparse{{\g}[1]}\pgfmathresult

% }
\clearpage